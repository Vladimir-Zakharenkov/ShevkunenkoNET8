@model EditPageViewModel

@{
    int j = 0;
    int k = 0;
    int l = 0;
    int m = 0;
}

<h1 class="fs-2 text_shadow">Редактировать страницу</h1>

<hr class="w-25 mx-auto" />

<p class="fs-5">
    <span class="text-primary fw-bold">PageTitle:</span><br />
    <span class="text_shadow">
        @Model.PageItem.PageTitle
    </span><br />
    <span class="fs-6 form-text">
        тег « title »
    </span>
</p>

<hr class="w-25 mx-auto" />

<p class="fs-5">
    <span class="text-primary fw-bold">PageInfoModelId:</span><br />
    <span class="text_shadow">
        @Model.PageItem.PageInfoModelId
    </span><br />
    <span class="fs-6 form-text">
        идентификатор в базе данных (GUID)
    </span>
</p>

<div class="card w-75 mx-auto p-2">

    <div class="card-body">

        <form method="post" enctype="multipart/form-data">

            <input asp-for="PageItem.PageInfoModelId" type="hidden" />
            <input asp-for="PageItem.PageIconPath" type="hidden" />
            <input asp-for="PageItem.BrowserConfig" type="hidden" />
            <input asp-for="PageItem.BrowserConfigFolder" type="hidden" />
            <input asp-for="PageItem.Manifest" type="hidden" />

            @if (Context.Request.Method == "POST")
            {
                <div asp-validation-summary="All" class="text-danger border border-top-0 border-danger mb-3"></div>
            }

            <div class="accordion" id="accordionEditPage">

                @* Адрес страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageAddress">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageAddress" aria-expanded="true" aria-controls="PageAddress">
                            <span class="form-label text-success fs-5">Адрес страницы :</span>
                        </button>
                    </h2>

                    <div id="PageAddress" class="accordion-collapse collapse" aria-labelledby="headingPageAddress" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            @* MVC или RazorPage *@
                            <div aria-describedby="PageAsRazorPageInputHelpBlock">
                                <div class="form-check form-check-inline me-5">
                                    <input asp-for="PageItem.PageAsRazorPage" class="form-check-input" type="radio" id="inlineRadio1" value="false">
                                    <label asp-for="PageItem.PageAsRazorPage" class="form-check-label fs-5">MVC Page</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input asp-for="PageItem.PageAsRazorPage" class="form-check-input" type="radio" id="inlineRadio2" value="true">
                                    <label asp-for="PageItem.PageAsRazorPage" class="form-check-label fs-5">Razor Page</label>
                                </div>
                                <div class="col-12 justify-content-center">
                                    <span id="PageAsRazorPageInputHelpBlock" class="form-text fs-6">
                                        тип страницы (MVC или RazorPage)<br />
                                    </span>
                                    @if (@Model.PageItem.PageAsRazorPage)
                                    {
                                        <span class="form-text fs-6 text-danger">
                                            текущее значение «RazorPage»
                                        </span>
                                    }
                                    else
                                    {
                                        <span class="form-text fs-6 text-danger">
                                            текущее значение «MVC»
                                        </span>
                                    }
                                </div>
                            </div>
                            <span asp-validation-for="PageItem.PageAsRazorPage" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            @* Area *@
                            <div class="row g-2 justify-content-center">
                                <div class="col-auto">
                                    <label asp-for="@Model.PageItem.PageArea" class="col-form-label text-primary fs-5 fw-bold"></label>
                                </div>
                                <div class="col-auto" aria-describedby="PageAreaInputHelpBlock">
                                    <select id="AreaInput" asp-for="PageItem.PageArea" class="form-select">
                                        @for (int i = 0; i < Model.PageItem.AreaItems.Count(); i++)
                                        {
                                            if (Model.PageItem.AreaItems[i].ToLower() == Model.PageItem.PageArea.Trim('/'))
                                            {
                                                <option value="@Model.PageItem.AreaItems[i]" selected>@Model.PageItem.AreaItems[i]</option>
                                            }
                                            else
                                            {
                                                <option value="@Model.PageItem.AreaItems[i]">@Model.PageItem.AreaItems[i]</option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div class="col-12 justify-content-center">
                                    <span id="PageAreaInputHelpBlock" class="form-text fs-6">
                                        область «Area»<br />
                                    </span>
                                    @if (string.IsNullOrEmpty(Model.PageItem.PageArea))
                                    {
                                        <span class="form-text fs-6 text-danger">
                                            область не задана
                                        </span>
                                    }
                                    else
                                    {
                                        <span class="form-text fs-6 text-danger">
                                            текущее значение «@Model.PageItem.PageArea.Trim('/')»
                                        </span>
                                    }
                                </div>
                            </div>
                            <span asp-validation-for="PageItem.PageArea" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            @* Controller *@
                            <label asp-for="PageItem.Controller" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="ControllerInput" asp-for="PageItem.Controller" class="form-control text-center w-50 mx-auto" aria-describedby="ControllerInputHelpBlock" />
                            <div id="ControllerInputHelpBlock" class="form-text fs-6">
                                Controller (для страницы MVC)<br />
                                @if (string.IsNullOrEmpty(Model.PageItem.Controller))
                                {
                                    <span class="form-text fs-6 text-danger">
                                        контроллер не задан
                                    </span>
                                }
                                else
                                {
                                    <span class="form-text fs-6 text-danger">
                                        текущее значение «@Model.PageItem.Controller.Trim('/')»
                                    </span>
                                }
                            </div>
                            <span asp-validation-for="PageItem.Controller" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            @* Action *@
                            <label asp-for="PageItem.Action" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="ActionInput" asp-for="PageItem.Action" class="form-control text-center w-50 mx-auto" aria-describedby="ActionInputHelpBlock" />
                            <div id="ActionInputHelpBlock" class="form-text fs-6">
                                Action (для страницы MVC)<br />
                                @if (string.IsNullOrEmpty(Model.PageItem.Action))
                                {
                                    <span class="form-text fs-6 text-danger">
                                        контроллер не задан
                                    </span>
                                }
                                else
                                {
                                    <span class="form-text fs-6 text-danger">
                                        текущее значение «@Model.PageItem.Action.Trim('/')»
                                    </span>
                                }

                            </div>
                            <span asp-validation-for="PageItem.Action" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            @* RoutData *@
                            <label asp-for="PageItem.RoutData" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="RoutDataInput" asp-for="PageItem.RoutData" class="form-control text-center w-75 mx-auto" aria-describedby="RoutDataInputHelpBlock" />
                            <div id="ActionInputHelpBlock" class="form-text fs-6">
                                QweryString<br />
                                @if (string.IsNullOrEmpty(Model.PageItem.RoutData))
                                {
                                    <span class="form-text fs-6 text-danger">
                                        не задано
                                    </span>
                                }
                                else
                                {
                                    <span class="form-text fs-6 text-danger">
                                        текущее значение «@Model.PageItem.RoutData.Trim('/')»
                                    </span>
                                }
                            </div>
                            <span asp-validation-for="PageItem.RoutData" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            @* PageLoc *@
                            <label asp-for="PageItem.PageLoc" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="PageLocInput" asp-for="PageItem.PageLoc" class="form-control text-center w-50 mx-auto" aria-describedby="PageLocInputHelpBlock" />
                            <div id="PageLocInputHelpBlock" class="form-text fs-6">
                                <span>адрес страницы без области (Area) и без контроллера (Controller)<br /></span>
                                @if (string.IsNullOrEmpty(Model.PageItem.PageLoc))
                                {
                                    <span class="form-text fs-6 text-danger">
                                        не задан
                                    </span>
                                }
                                else
                                {
                                    <span class="form-text fs-6 text-danger">
                                        текущее значение «@Model.PageItem.PageLoc.Trim('/')»
                                    </span>
                                }
                            </div>
                            <span asp-validation-for="PageItem.PageLoc" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            <label asp-for="PageItem.PagePathNickName" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="PagePathNickNameInput" asp-for="PageItem.PagePathNickName" class="form-control text-center" aria-describedby="PagePathNickNameInputHelpBlock" />
                            <div id="PagePathNickNameInputHelpBlock" class="form-text fs-6">
                                <span>альтернативный адрес страницы</span><br />
                                @if (string.IsNullOrEmpty(Model.PageItem.PagePathNickName))
                                {
                                    <span class="form-text fs-6 text-danger">
                                        не задан
                                    </span>
                                }
                                else
                                {
                                    <span class="form-text fs-6 text-danger">
                                        текущее значение «@Model.PageItem.PagePathNickName.Trim('/')»
                                    </span>
                                }
                            </div>
                            <span asp-validation-for="PageItem.PagePathNickName" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Картинка страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPagePicture">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PagePicture" aria-expanded="true" aria-controls="PagePicture">
                            <span class="form-label text-success fs-5">Картинка страницы :</span>
                        </button>
                    </h2>

                    <div id="PagePicture" class="accordion-collapse collapse" aria-labelledby="headingPagePicture" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="ImageFileFormFile" class="form-label text-primary fs-5 fw-bold d-block mb-0"></label>

                            @if (Context.Request.Method == "GET")
                            {
                                @if (Model.PageItem.ImageFileModel != null)
                                {
                                    <a asp-area="Admin"
                                       asp-controller="ImageInfo"
                                       asp-action="DetailsImage"
                                       asp-route-imageid="@Model.PageItem.ImageFileModelId"
                                       class="d-block mx-auto maxwidth300px shadw imageref"
                                       title="информация о картинке"
                                       onclick="this.target='_blank'">
                                        <vc:view-image image-id="@Model.PageItem.ImageFileModelId" css-class="w-100" icon-type="webimage" />
                                    </a>

                                    @if (!string.IsNullOrEmpty(Model.PageItem.ImageFileModel.WebImageFileName))
                                    {
                                        <p class="text_shadow my-2 fluid-font-size">
                                            @Model.PageItem.ImageFileModel.ImagePath/@Model.PageItem.ImageFileModel.WebImageFileName
                                        </p>
                                    }
                                    else
                                    {
                                        <p class="text_shadow my-2 fluid-font-size">
                                            @Model.PageItem.ImageFileModel.ImagePath/@Model.PageItem.ImageFileModel.ImageFileName
                                        </p>
                                    }
                                }
                                else
                                {
                                    <p class="fs-6 form-text">
                                        картинка для страницы не выбрана
                                    </p>
                                }
                            }

                            <input id="ImageFileFormFile" asp-for="ImageFileFormFile" class="form-control mt-2 mx-auto maxwidth300px" aria-describedby="ImageFileFormFileHelpBlock" />
                            <span asp-validation-for="ImageFileFormFile" class="text-danger"></span>

                            <hr class="w-50 liniya" />

                            @* Текст карточки страницы *@
                            <label asp-for="PageItem.PageCardText" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="PageCardTextInput" asp-for="PageItem.PageCardText" class="form-control text-center w-50 mx-auto" aria-describedby="PageCardTextInputHelpBlock" />
                            <div id="PageCardTextInputHelpBlock">
                                <p class="form-text fs-6 mb-3">текст для карточки страницы</p>
                                @if (string.IsNullOrEmpty(Model.PageItem.PageCardText))
                                {
                                    <p class="fordetails text-center">(текст не задан)</p>
                                }
                                else
                                {
                                    <p class="fordetails text-center">текущее значение <span class=" fs-5 text_shadow">«@Model.PageItem.PageCardText»</span></p>
                                }
                            </div>

                        </div>

                    </div>

                </div>

                @* Иконка страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageIcon">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageIcon" aria-expanded="true" aria-controls="PageIcon">
                            <span class="form-label text-success fs-5">Иконка страницы :</span>
                        </button>
                    </h2>

                    <div id="PageIcon" class="accordion-collapse collapse" aria-labelledby="headingPageIcon" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            @if (Context.Request.Method == "GET" && Model.IconItem != null)
                            {
                                <img itemprop="image"
                                     class="card-img-top m-2 width30percent maxwidth300px shadw mx-auto"
                                     src="@DataConfig.IconsFolder/@Model.IconItem.IconPath/@Model.IconItem.IconFileName"
                                     alt="иконка страницы"
                                     title="иконка страницы" />

                                <p class="text_shadow my-2 fluid-font-size">
                                    @DataConfig.IconsFolder@Model.IconItem.IconPath@Model.IconItem.IconFileName
                                </p>
                            }

                            <p class="fs-6 form-text">
                                выбор иконки связан с OgType
                            </p>

                        </div>

                    </div>

                </div>

                @* Фон страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageBackground">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageBackground" aria-expanded="true" aria-controls="PageBackground">
                            <span class="form-label text-success fs-5">Фон страницы :</span>
                        </button>
                    </h2>

                    <div id="PageBackground" class="accordion-collapse collapse" aria-labelledby="headingPageBackground" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="BackgroundFormFile" class="form-label text-primary fs-5 fw-bold d-block mb-0"></label>
                            <input id="BackgroundFormFileInput" asp-for="BackgroundFormFile" class="form-control mt-2 mx-auto maxwidth300px" aria-describedby="BackgroundFormFileInputHelpBlock" />
                            <p class="fs-6 form-text">
                                фон страницы
                            </p>
                            <span asp-validation-for="BackgroundFormFile" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Тег «title» *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageTitle">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageTitle" aria-expanded="true" aria-controls="PageTitle">
                            <span class="form-label text-success fs-5">Заголовок (PageTitle)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageTitle" class="accordion-collapse collapse" aria-labelledby="headingPageTitle" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.PageTitle" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="PageTitleInput" asp-for="PageItem.PageTitle" class="form-control text-center" aria-describedby="PageTitleInputHelpBlock" />
                            <div id="PageTitleInputHelpBlock" class="form-text fs-6">
                                тег «title» - <span class="text-danger">обязательное поле</span>
                            </div>
                            <span asp-validation-for="PageItem.PageTitle" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Тег «description» *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageDescription">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageDescription" aria-expanded="true" aria-controls="PageDescription">
                            <span class="form-label text-success fs-5">Описание (PageDescription)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageDescription" class="accordion-collapse collapse" aria-labelledby="headingPageDescription" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.PageDescription" class="form-label text-primary fs-5 fw-bold"></label>
                            <textarea id="PageDescriptionInput" asp-for="PageItem.PageDescription" rows="4" class="form-control fordetails" aria-describedby="PageDescriptionInputHelpBlock">
                            </textarea>
                            <div id="PageDescriptionInputHelpBlock" class="form-text fs-6">
                                тег «description» - <span class="text-danger">обязательное поле</span>
                            </div>
                            <span asp-validation-for="PageItem.PageDescription" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Тег «keywords» *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageKeywords">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageKeywords" aria-expanded="true" aria-controls="PageKeywords">
                            <span class="form-label text-success fs-5">Ключевые слова (PageKeyWords)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageKeywords" class="accordion-collapse collapse" aria-labelledby="headingPageKeywords" data-bs-parent="#accordionDetailsPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.PageKeyWords" class="form-label text-primary fs-5 fw-bold"></label>
                            <textarea id="PageKeyWordsInput" asp-for="PageItem.PageKeyWords" rows="7" class="form-control fordetails" aria-describedby="PageKeyWordsInputHelpBlock">
                            </textarea>
                            <div id="PageKeyWordsInputHelpBlock" class="form-text fs-6">
                                тег «keywords» - <span class="text-danger">обязательное поле</span>
                            </div>
                            <span asp-validation-for="PageItem.PageKeyWords" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Заголовок страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageHeading">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageHeading" aria-expanded="true" aria-controls="PageHeading">
                            <span class="form-label text-success fs-5">Заголовок страницы (PageHeading)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageHeading" class="accordion-collapse collapse" aria-labelledby="headingPageHeading" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.PageHeading" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="PageHeadingInput" asp-for="PageItem.PageHeading" class="form-control fs-6 w-75 mx-auto" aria-describedby="PageHeadingInputHelpBlock" />

                            @if (!string.IsNullOrEmpty(Model.PageItem.PageHeading))
                            {
                                <div id="PageCardTextInputHelpBlock" class="form-text fs-6">
                                    текст заголовка страницы в теге &lt;h1&gt;... &lt;/h1&gt;
                                </div>

                                <h1 class="text_shadow">@Html.Raw(Model.PageItem.PageHeading)</h1>
                            }
                            else
                            {
                                <p class="fordetails text-center">заголовок для страницы не задан</p>
                            }
                            <span asp-validation-for="PageItem.PageKeyWords" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Текст страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageText">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageText" aria-expanded="true" aria-controls="PageText">
                            <span class="form-label text-success fs-5">Текст страницы (TextOfPage)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageText" class="accordion-collapse collapse" aria-labelledby="headingPageText" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.TextOfPage" class="form-label text-primary fs-5 fw-bold"></label>
                            <textarea id="TextOfPageInput" asp-for="PageItem.TextOfPage" rows="15" class="form-control text-start fordetails px-3" aria-describedby="TextOfPageInputHelpBlock">
                            </textarea>

                            <article class="px-2 mt-3 border border-secondary paragraph fluid-font-size" itemprop="text">

                                @Html.Raw(Model.PageItem.TextOfPage)

                            </article>

                            <div id="TextOfPageInputHelpBlock" class="form-text fs-6">
                                текст страницы
                            </div>
                            <span asp-validation-for="PageItem.TextOfPage" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Open Graf Type *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageOgType">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageOgType" aria-expanded="true" aria-controls="PageOgType">
                            <span class="form-label text-success fs-5">Open Graf Type (OgType)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageOgType" class="accordion-collapse collapse" aria-labelledby="headingPageOgType" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <div class="row g-2 justify-content-center">
                                <div class="col-auto">
                                    <label asp-for="PageItem.OgType" class="col-form-label text-primary fs-5 fw-bold"></label>
                                </div>
                                <div class="col-auto">
                                    <select id="OgTypeInput" asp-for="PageItem.OgType" class="form-select">
                                        <option value="website" selected>website</option>
                                        <option value="movie">movie</option>
                                    </select>
                                </div>
                                <div class="col-12 justify-content-center">
                                    <span id="OgTypeInputHelpBlock" class="form-text fs-6">
                                        тег «og:type» - <span class="text-danger">обязательное поле</span>
                                    </span>
                                </div>
                            </div>
                            <span asp-validation-for="PageItem.OgType" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Sitemap *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageSitemap">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageSitemap" aria-expanded="true" aria-controls="PageSitemap">
                            <span class="form-label text-success fs-5">Sitemap&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageSitemap" class="accordion-collapse collapse" aria-labelledby="headingPageSitemap" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <div class="row g-2 justify-content-center">
                                <div class="col-auto">
                                    <label asp-for="PageItem.Changefreq" class="col-form-label text-primary fs-5 fw-bold"></label>
                                </div>
                                <div class="col-auto">
                                    <select id="ChangefreqInput" asp-for="PageItem.Changefreq" class="form-select">
                                        <option value="always">always</option>
                                        <option value="hourly">hourly</option>
                                        <option value="daily">daily</option>
                                        <option value="weekly">weekly</option>
                                        <option value="monthly" selected>monthly</option>
                                        <option value="yearly">yearly</option>
                                        <option value="never">never</option>
                                    </select>
                                </div>
                                <div class="col-12 justify-content-center">
                                    <span id="ChangefreqInputHelpBlock" class="form-text fs-6">
                                        Changefreq: частота изменения страницы - <span class="text-danger">обязательное поле</span>
                                    </span>
                                </div>
                            </div>
                            <span asp-validation-for="PageItem.Changefreq" class="text-danger"></span>

                            <hr class="liniya" />

                            <div class="row g-2 justify-content-center">
                                <div class="col-auto">
                                    <label asp-for="PageItem.Priority" class="col-form-label text-primary fs-5 fw-bold"></label>
                                </div>
                                <div class="col-auto">
                                    <select id="PriorityInput" asp-for="PageItem.Priority" class="form-select">
                                        <option value="0.0">0.0</option>
                                        <option value="0.1">0.1</option>
                                        <option value="0.2">0.2</option>
                                        <option value="0.3">0.3</option>
                                        <option value="0.4">0.4</option>
                                        <option value="0.5" selected>0.5</option>
                                        <option value="0.6">0.6</option>
                                        <option value="0.7">0.7</option>
                                        <option value="0.8">0.8</option>
                                        <option value="0.9">0.9</option>
                                        <option value="1.0">1.0</option>
                                    </select>
                                </div>
                                <div class="col-12 justify-content-center">
                                    <span id="PrioritylInputHelpBlock" class="form-text fs-6">
                                        Priority: значимость страницы (от 0.0 до 1.0) - <span class="text-danger">обязательное поле</span>
                                    </span>
                                </div>
                            </div>
                            <span asp-validation-for="PageItem.Priority" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Фильтры поиска текущей страницы *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageFilter">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageFilter" aria-expanded="true" aria-controls="PageFilter">
                            <span class="form-label text-success fs-5">Фильтры поиска текущей страницы (PageFilter)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageFilter" class="accordion-collapse collapse" aria-labelledby="headingPageFilter" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.PageFilter" class="form-label text-primary fs-5 fw-bold"></label>
                            <input id="PageFilterInput" asp-for="PageItem.PageFilter" class="form-control text-center" aria-describedby="PageFilterInputHelpBlock" />
                            @if (string.IsNullOrEmpty(Model.PageItem.PageFilter))
                            {
                                <div id="PageFilterInputHelpBlock" class="form-text fs-6">
                                    фильтр поиска страницы не задан
                                </div>
                            }
                            else
                            {
                                <div id="PageFilterInputHelpBlock" class="form-text fs-6">
                                    фильтры поиска страницы
                                </div>
                            }
                            <span asp-validation-for="PageItem.PageFilter" class="text-danger"></span>

                            @if (!string.IsNullOrEmpty(Model.PageItem.PageFilter))
                            {
                                <hr class="liniya w-50" />

                                <p class="px-5 text-center text_shadow fluid-font-size">
                                    @Model.PageItem.PageFilter
                                </p>

                                @if (Model.LinksFromPagesByPageFilter.Count > 0)
                                {
                                    <p class="mx-auto fs-4 text-primary">Страницы ссылающиеся на текущую</p>

                                    <div class="table-responsive mt-3">

                                        <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                            <thead>

                                                <tr class="text-start text-primary">

                                                    <th scope="col" class="text-primary">№</th>
                                                    <th scope="col" class="text-primary">GUID</th>
                                                    <th scope="col" class="text-primary">Title</th>

                                                </tr>

                                            </thead>

                                            <tbody>

                                                @foreach (var item in Model.LinksFromPagesByPageFilter)
                                                {
                                                    if (j == 0)
                                                    {
                                                        j = 1;
                                                    }
                                                    else
                                                    {
                                                        j++;
                                                    }

                                                    <tr class="text-start fs-5">

                                                        <td scope="col" class="text-primary">@j</td>
                                                        <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                        <td scope="col" class="text_shadow">@item.PageTitle</td>

                                                    </tr>
                                                }

                                            </tbody>

                                        </table>

                                    </div>

                                    <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                        @foreach (var item in Model.LinksFromPagesByPageFilter)
                                        {
                                            <vc:card-of-page page=item />
                                        }

                                    </div>
                                }
                                else
                                {
                                    <p class="fs-6 form-text">
                                        по данным фильтрам нет ссылок
                                    </p>
                                }
                            }

                        </div>

                    </div>

                </div>

                @* Включить поиск связанных видео *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageVideoLinks">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageVideoLinks" aria-expanded="true" aria-controls="PageVideoLinks">
                            <span class="form-label text-success fs-5">Включить поиск связанных видео (VideoLinks)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageVideoLinks" class="accordion-collapse collapse" aria-labelledby="headingPageVideoLinks" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <div class="row g-2">
                                <label asp-for="PageItem.VideoLinks" class="col-12 form-label text-primary fs-5 fw-bold"></label>
                                <div class="col-6 form-check">
                                    <input id="VideoLinksTrue" class="form-check-input float-none me-2" asp-for="PageItem.VideoLinks" type="radio" value="true">
                                    <label class="form-check-label d-inline-block" for="VideoLinksTrue">
                                        <span class="">Показывать ссылки на видео</span>
                                    </label>
                                </div>
                                <div class="col-6 form-check">
                                    <input id="VideoLinksFalse" class="form-check-input float-none me-2" asp-for="PageItem.VideoLinks" type="radio" value="false">
                                    <label class="form-check-label d-inline-block" for="VideoLinksFalse">
                                        <span class="">Не показывать ссылки на видео</span>
                                    </label>
                                </div>
                                <div id="PageVideoLinksInputHelpBlock" class="form-text fs-6">
                                    <span>включить ссылки на видео</span>
                                </div>
                                <span asp-validation-for="PageItem.VideoLinks" class="text-danger"></span>
                            </div>

                        </div>

                    </div>

                </div>

                @* Фильтры поиска связанных видео *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageVideoFilterOut">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageVideoFilterOut" aria-expanded="true" aria-controls="PageVideoFilterOut">
                            <span class="form-label text-success fs-5">Фильтры поиска видео (VideoFilterOut)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageVideoFilterOut" class="accordion-collapse collapse" aria-labelledby="headingPageVideoFilterOut" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.VideoFilterOut" class="form-label text-primary fs-5 fw-bold"></label>
                            <textarea id="PageVideoFilterOutt" asp-for="PageItem.VideoFilterOut" rows="3" class="form-control fs-5 fordetails" aria-describedby="PageVideoFilterOutInputHelpBlock">
                            </textarea>

                            @if (!string.IsNullOrEmpty(Model.PageItem.VideoFilterOut))
                            {
                                <p class="px-5 text-center text_shadow fluid-font-size">
                                    @Model.PageItem.VideoFilterOut
                                </p>

                                <p class="fs-6 form-text">
                                    фильтры поиска видео
                                </p>

                                @if (Model.LinksToVideosByFilterOut.Count > 0)
                                {
                                    foreach (var listOfMovies in Model.ListsMoviesFileModel)
                                    {
                                        <div class="table-responsive mt-3">

                                            <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                                <thead>

                                                    <tr class="text-start text-primary">

                                                        <th scope="col" class="text-primary">№</th>
                                                        <th scope="col" class="text-primary">GUID</th>
                                                        <th scope="col" class="text-primary">Название</th>
                                                        <th scope="col"></th>

                                                    </tr>

                                                </thead>

                                                <tbody>

                                                    @foreach (var item in listOfMovies)
                                                    {
                                                        if (m == 0)
                                                        {
                                                            m = 1;
                                                        }
                                                        else
                                                        {
                                                            m++;
                                                        }

                                                        <tr class="text-start fs-5">

                                                            <td scope="col" class="text-primary">@m</td>
                                                            <td scope="col" class="text_shadow">@item.MovieFileModelId</td>
                                                            <td scope="col" class="text_shadow">@item.MovieCaption</td>
                                                            <td scope="col" class="text-center">
                                                                <a asp-area="Admin"
                                                                   asp-controller="MovieInfo"
                                                                   asp-action="DetailsMovie"
                                                                   asp-route-movieid="@item.MovieFileModelId"
                                                                   class="btn btn-outline-primary p-1 shadw"
                                                                   title="информация о фильме">Info</a>
                                                            </td>

                                                        </tr>
                                                    }

                                                </tbody>

                                            </table>

                                        </div>
                                    }

                                    foreach (var listsOfVideoFilterOut in Model.LinksToVideosByFilterOut)
                                    {
                                        <vc:video-links movies-list="@listsOfVideoFilterOut" />
                                    }
                                }
                                else
                                {
                                    <p class="fs-6 form-text">
                                        по данным фильтрам нет ссылок
                                    </p>
                                }
                            }
                            else
                            {
                                <p class="fs-6 form-text">
                                    фильтр поиска видео не задан
                                </p>
                            }
                            <span asp-validation-for="PageItem.VideoFilterOut" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Включить поиск связанных страниц *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageLinksByFilters">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageLinksByFilters" aria-expanded="true" aria-controls="PageLinksByFilters">
                            <span class="form-label text-success fs-5">Включить поиск связанных страниц (PageLinksByFilters)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageLinksByFilters" class="accordion-collapse collapse" aria-labelledby="headingPageLinksByFilters" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <div class="row g-2">
                                <label asp-for="PageItem.PageLinksByFilters" class="col-12 form-label text-primary fs-5 fw-bold"></label>
                                <div class="col-6 form-check">
                                    <input id="PageLinksByFiltersTrue" class="form-check-input float-none me-2" asp-for="PageItem.PageLinksByFilters" type="radio" value="true">
                                    <label class="form-check-label d-inline-block" for="PageLinksByFiltersTrue">
                                        <span class="">Показывать ссылки по фильтрам</span>
                                    </label>
                                </div>
                                <div class="col-6 form-check">
                                    <input id="PageLinksByFiltersFalse" class="form-check-input float-none me-2" asp-for="PageItem.PageLinksByFilters" type="radio" value="false">
                                    <label class="form-check-label d-inline-block" for="PageLinksByFiltersFalse">
                                        <span class="">Не показывать ссылки по фильтрам</span>
                                    </label>
                                </div>
                                <div id="PageLinksByFiltersInputHelpBlock" class="form-text fs-6">
                                    <span>включить ссылки на страницы сайта</span>
                                </div>
                                <span asp-validation-for="PageItem.PageLinksByFilters" class="text-danger"></span>
                            </div>

                        </div>

                    </div>

                </div>

                @* Фильтры поиска страниц сайта *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageFilterOut">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageFilterOut" aria-expanded="true" aria-controls="PageFilterOut">
                            <span class="form-label text-success fs-5">Фильтры поиска страниц сайта (PageFilterOut)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageFilterOut" class="accordion-collapse collapse" aria-labelledby="headingPageFilterOut" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.PageFilterOut" class="form-label text-primary fs-5 fw-bold"></label>
                            <textarea id="PageFilterOutInput" asp-for="PageItem.PageFilterOut" rows="3" class="form-control fs-5 fordetails" aria-describedby="PageFilterOutInputHelpBlock">
                            </textarea>

                            @if (!string.IsNullOrEmpty(Model.PageItem.PageFilterOut))
                            {
                                <p class="px-5 text-center text_shadow fluid-font-size">
                                    @Model.PageItem.PageFilterOut
                                </p>

                                <p class="fs-6 form-text">
                                    фильтр поиска страниц
                                </p>

                                @if (Model.LinksToPagesByFilterOut.Count > 0)
                                {
                                    <div class="table-responsive mt-3">

                                        <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                            <thead>

                                                <tr class="text-start text-primary">

                                                    <th scope="col" class="text-primary">№</th>
                                                    <th scope="col" class="text-primary">GUID</th>
                                                    <th scope="col" class="text-primary">Title</th>

                                                </tr>

                                            </thead>

                                            <tbody>

                                                @foreach (var item in Model.LinksToPagesByFilterOut)
                                                {
                                                    if (k == 0)
                                                    {
                                                        k = 1;
                                                    }
                                                    else
                                                    {
                                                        k++;
                                                    }

                                                    <tr class="text-start fs-5">

                                                        <td scope="col" class="text-primary">@k</td>
                                                        <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                        <td scope="col" class="text_shadow">@item.PageTitle</td>

                                                    </tr>
                                                }

                                            </tbody>

                                        </table>

                                    </div>

                                    <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                        @foreach (var item in Model.LinksToPagesByFilterOut)
                                        {
                                            <vc:card-of-page page=item />
                                        }

                                    </div>
                                }
                                else
                                {
                                    <p class="fs-6 form-text">
                                        по данным фильтрам нет ссылок
                                    </p>
                                }
                            }
                            <span asp-validation-for="PageItem.PageFilterOut" class="text-danger"></span>

                        </div>

                    </div>

                </div>

                @* Включить поиск связанных страниц по GUID *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingPageLinks">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageLinks" aria-expanded="true" aria-controls="PageLinks">
                            <span class="form-label text-success fs-5">Включить ссылки на страницы по GUID (PageLinks)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="PageLinks" class="accordion-collapse collapse" aria-labelledby="headingPageLinks" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <div class="row g-2">
                                <label asp-for="PageItem.PageLinks" class="col-12 form-label text-primary fs-5 fw-bold"></label>
                                <div class="col-6 form-check">
                                    <input id="PageLinksTrue" class="form-check-input float-none me-2" asp-for="PageItem.PageLinks" type="radio" value="true">
                                    <label class="form-check-label d-inline-block" for="PageLinksTrue">
                                        <span class="">Показывать ссылки</span>
                                    </label>
                                </div>
                                <div class="col-6 form-check">
                                    <input id="PageLinksFalse" class="form-check-input float-none me-2" asp-for="PageItem.PageLinks" type="radio" value="false">
                                    <label class="form-check-label d-inline-block" for="PageLinksFalse">
                                        <span class="">Не показывать ссылки</span>
                                    </label>
                                </div>
                                <div id="PageLinksInputHelpBlock" class="form-text fs-6">
                                    <span>включить ссылки на страницы по GUID</span>
                                </div>
                                <span asp-validation-for="PageItem.PageLinks" class="text-danger"></span>
                            </div>

                        </div>

                    </div>

                </div>

                @* Поиск связанных страниц по GUID *@
                <div class="accordion-item mb-3 shadw">

                    <h2 class="accordion-header" id="headingRefPages">
                        <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#RefPages" aria-expanded="true" aria-controls="RefPages">
                            <span class="form-label text-success fs-5">Фильтры поиска страниц сайта (RefPages)&nbsp;:</span>
                        </button>
                    </h2>

                    <div id="RefPages" class="accordion-collapse collapse" aria-labelledby="headingRefPages" data-bs-parent="#accordionEditPage">

                        <div class="accordion-body accordion-body-nointend text-center">

                            <label asp-for="PageItem.RefPages" class="form-label text-primary fs-5 fw-bold"></label>
                            <textarea id="RefPagesInput" asp-for="PageItem.RefPages" rows="3" class="form-control fs-5 text-start fordetails" aria-describedby="RefPagesInputHelpBlock">
                            </textarea>
                            <span asp-validation-for="PageItem.RefPages" class="text-danger"></span>

                            @if (!string.IsNullOrEmpty(Model.PageItem.RefPages))
                            {
                                @if (Model.LinksToPagesByGuid.Count > 0)
                                {
                                    <div class="table-responsive mt-3">

                                        <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                            <thead>

                                                <tr class="text-start text-primary">

                                                    <th scope="col" class="text-primary">№</th>
                                                    <th scope="col" class="text-primary">GUID</th>
                                                    <th scope="col" class="text-primary">Title</th>

                                                </tr>

                                            </thead>

                                            <tbody>

                                                @foreach (var item in Model.LinksToPagesByGuid)
                                                {
                                                    if (l == 0)
                                                    {
                                                        l = 1;
                                                    }
                                                    else
                                                    {
                                                        l++;
                                                    }

                                                    <tr class="text-start fs-5">

                                                        <td scope="col" class="text-primary">@l</td>
                                                        <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                        <td scope="col" class="text_shadow">@item.PageTitle</td>

                                                    </tr>
                                                }

                                            </tbody>

                                        </table>

                                    </div>

                                    <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                        @foreach (var item in Model.LinksToPagesByGuid)
                                        {
                                            <vc:card-of-page page=item />
                                        }

                                    </div>
                                }
                                else
                                {
                                    <p class="fs-6 form-text">
                                        по данным фильтрам нет ссылок
                                    </p>
                                }
                            }
                            else
                            {
                                <p class="fs-6 form-text">
                                    фильтр поиска страниц по GUID не задан
                                </p>
                            }

                        </div>

                    </div>

                </div>

            </div>

            <div class="card-footer p-0 mt-5">

                <button type="submit" class="btn btn-outline-success m-2 text-center shadw" title="сохранить изменения">Сохранить</button>

                <a asp-area="Admin" asp-controller="PageInfo" asp-action="Index" class="btn btn-outline-danger m-2 shadw" title="отменить">Отмена</a>

            </div>

        </form>

    </div>

</div>