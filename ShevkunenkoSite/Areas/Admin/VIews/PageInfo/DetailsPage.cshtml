@model DetailsPageViewModel

@{
    int i = 0;
    int j = 0;
    int k = 0;
    int l = 0;
    int videoRef = 0;

    // var dict = Model.PageItem!.RoutData.Split(new[] { ';' }, StringSplitOptions.RemoveEmptyEntries)
    //            .Select(part => part.Split('='))
    //            .ToDictionary(split => split[0], split => split[1]);
}

<h1>
    <span class="fs-3 text_shadow">Информация о странице</span>
</h1>

<hr class="liniya" />

@* Id страницы *@
<div>

    <p>
        <span class="fw-bold fs-5 text-primary">
            PageInfoModelId:
        </span>
        <br />
        <span class="fs-5 text_shadow">
            @Model.PageItem.PageInfoModelId
        </span>
        <br />
        <span class="fs-6 form-text text-success">
            идентификатор в базе данных (GUID)
        </span>
    </p>

    <hr class="w-75 mx-auto" />

</div>

@* Тег « title » *@
<div>

    <p>
        <span class="fw-bold fs-5 text-primary">
            PageTitle:
        </span>
        <br />
        <span class="fs-5 text_shadow">
            @Model.PageItem.PageTitle
        </span>
        <br />
        <span class="fs-6 form-text text-success">
            тег « title »
        </span>
    </p>

    <hr class="w-75 mx-auto" />

</div>

@* Карточка страницы *@
<div>

    <p>
        <span class="fw-bold fs-5 text-primary">
            Карточка страницы
        </span>
    </p>
    <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

        <vc:card-of-page page=Model.PageItem />

    </div>

</div>

@* Информация по разделам *@
<div class="card w-75 mx-auto p-2 my-3">

    @* Управление страницей *@
    <div class="card-footer border p-0 my-2">

        <a asp-area="Admin"
           asp-controller="PageInfo"
           asp-action="EditPage"
           asp-route-pageid="@Model.PageItem.PageInfoModelId"
           class="btn btn-outline-dark py-1 m-2 shadw minwidth70px"
           title="редактировать данные">
            Изменить
        </a>

        <a asp-area="Admin"
           asp-controller="PageInfo"
           asp-action="DeletePage"
           asp-route-pageid="@Model.PageItem.PageInfoModelId"
           class="btn btn-outline-danger m-2 shadw minwidth100px"
           title="удалить страницу">
            Удалить
        </a>

        <a href="@Url.Content(Model.PageItem.PageFullPathWithData)"
           class="btn btn-outline-primary m-2 shadw minwidth100px"
           title="просмотр">
            Просмотр
        </a>

        <a asp-area="Admin"
           asp-controller="PageInfo"
           asp-action="Index"
           class="btn btn-outline-success m-2 shadw minwidth100px d-inline-block"
           title="список страниц">
            Список
        </a>

        @if (Model.PageItem.MovieFile != null)
        {
            <a asp-area="Admin"
               asp-controller="MovieInfo"
               asp-action="DetailsMovie"
               asp-route-movieid="@Model.PageItem.MovieFile.MovieFileModelId"
               class="btn btn-outline-info m-2 shadw minwidth100px"
               title="данные фильма">
                Фильм
            </a>
        }

    </div>

    @* Разделы информации (accordion) *@
    <div class="accordion" id="accordionDetailsPage">

        @* Адрес страницы *@
        <div class="accordion-item mb-3 shadw">

            @* Заголовок группы «адрес страницы» *@
            <h2 class="accordion-header" id="headingPageAddress">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageAddress" aria-expanded="true" aria-controls="PageAddress">
                    <span class="form-label fs-5">Адрес :</span>
                </button>
            </h2>

            <div id="PageAddress" class="accordion-collapse collapse" aria-labelledby="headingPageAddress" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-start">

                    @if (Model.PageItem.PageAsRazorPage)
                    {
                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Тип страницы :
                            </span>
                            <br class="d-sm-none" />
                            <span class="text_shadow">
                                RazorPage
                            </span>
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 text-primary mb-0">
                            Область:
                            <span class="text-black">
                                «@Model.PageItem.PageArea.TrimStart('/')»
                            </span>
                        </p>
                        <p class="fs-5 text-primary mb-0">
                            Адрес:
                            <span class="text-black">
                                «@Model.PageItem.PageArea@Model.PageItem.PageLoc»
                            </span>
                        </p>
                        <p class="fs-5 text-primary mb-0">
                            Псевдоним:
                            <span class="text-black">
                                «@Model.PageItem.PagePathNickName»
                            </span>
                        </p>
                    }
                    else
                    {
                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Тип страницы :
                            </span>
                            <br class="d-sm-none" />
                            <span class="text_shadow">
                                MVC
                            </span>
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Область :
                            </span>
                            <br class="d-sm-none" />
                            @if (string.IsNullOrEmpty(Model.PageItem.PageArea))
                            {
                                <span class="text_shadow">
                                    Root
                                </span>
                            }
                            else
                            {
                                <span class="text_shadow">
                                    @Model.PageItem.PageArea.TrimStart('/')
                                </span>
                            }
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Контроллер :
                            </span>
                            <br class="d-sm-none" />
                            <span class="text_shadow">
                                @Model.PageItem.Controller.TrimStart('/')
                            </span>
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Действие :
                            </span>
                            <br class="d-sm-none" />
                            <span class="text_shadow">
                                @Model.PageItem.Action.TrimStart('/')
                            </span>
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Данные :
                            </span>
                            <br class="d-sm-none" />
                            @if (string.IsNullOrEmpty(Model.PageItem.RoutData))
                            {
                                <span class="fs-6 form-text text-success">
                                    данные не заданы
                                </span>
                            }
                            else
                            {
                                <span class="text_shadow">
                                    @Model.PageItem.RoutData
                                </span>
                            }
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Полный адрес :
                            </span>
                            <br class="d-sm-none" />
                            <span class="text_shadow">
                                @Model.PageItem.PageFullPathWithData
                            </span>
                        </p>

                        <hr class="w-75 mx-auto" />

                        <p class="fs-5 mb-0">
                            <span class="text-primary fw-bold">
                                Псевдоним :
                            </span>
                            <br class="d-sm-none" />
                            @if (string.IsNullOrEmpty(Model.PageItem.PagePathNickName))
                            {
                                <span class="fs-6 form-text text-success">
                                    псевдоним не задан
                                </span>
                            }
                            else
                            {
                                <span class="text_shadow">
                                    @Model.PageItem.PagePathNickName
                                </span>
                            }
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Карточка страницы *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPagePicture">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PagePicture" aria-expanded="true" aria-controls="PagePicture">
                    <span class="form-label fs-5">Карточка :</span>
                </button>
            </h2>

            <div id="PagePicture" class="accordion-collapse collapse" aria-labelledby="headingPagePicture" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-start text-sm-center">

                    @if (Model.PageItem.ImageFileModel != null)
                    {
                        <a asp-area="Admin"
                           asp-controller="ImageInfo"
                           asp-action="DetailsImage"
                           asp-route-imageid="@Model.PageItem.ImageFileModelId"
                           class="d-block mx-auto mb-3 maxwidth300px shadw imageref"
                           title="информация о картинке"
                           onclick="this.target='_blank'">
                            <vc:view-image image-id="@Model.PageItem.ImageFileModelId" css-class="w-100" icon-type="webimage" />
                        </a>

                        @if (!string.IsNullOrEmpty(Model.PageItem.ImageFileModel.WebImageFileName))
                        {
                            <a class="fs-5 text_shadow"
                               href="@Url.Content($"{Model.PageItem.ImageFileModel.ImagePath}\\/{Model.PageItem.ImageFileModel.WebImageFileName}")"
                               onclick="this.target='_blank'">
                                @Model.PageItem.ImageFileModel.ImagePath/@Model.PageItem.ImageFileModel.WebImageFileName
                            </a>
                        }
                        else
                        {
                            <a class="fs-5 text_shadow"
                               href="@Url.Content($"{Model.PageItem.ImageFileModel.ImagePath}\\/{Model.PageItem.ImageFileModel.WebImageFileName}")"
                               onclick="this.target='_blank'">
                                @Model.PageItem.ImageFileModel.ImagePath/@Model.PageItem.ImageFileModel.ImageFileName
                            </a>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text text-success">
                            картинка для страницы не выбрана
                        </p>
                    }

                    <hr class="w-75 mx-auto my-2" />

                    @* Текст карточки страницы *@
                    <p class="fw-bold fs-5 text-primary mb-2">
                        Текст карточки (PageCardText) :
                    </p>
                    @if (string.IsNullOrEmpty(Model.PageItem.PageCardText))
                    {
                        <p class="fs-6 form-text text-success text-center">
                            (текст не задан)
                        </p>
                    }
                    else
                    {
                        <p class="fordetails text-center fs-5 text_shadow">
                            @Model.PageItem.PageCardText
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Иконка страницы *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageIcon">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageIcon" aria-expanded="true" aria-controls="PageIcon">
                    <span class="form-label fs-5">Иконка :</span>
                </button>
            </h2>

            <div id="PageIcon" class="accordion-collapse collapse" aria-labelledby="headingPageIcon" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend">

                    <img itemprop="image"
                         class="card-img-top m-3 maxwidth300px shadw d-block mx-auto"
                         src="@DataConfig.IconsFolder/@Model.IconItem.IconPath/@Model.IconItem.IconFileName"
                         alt="иконка страницы"
                         title="иконка страницы" />

                    <p class="fs-5 text_shadow text-start text-sm-center">
                        <a href="@Url.Content($"{@DataConfig.IconsFolder}{Model.IconItem.IconPath}\\/{Model.IconItem.IconFileName}")"
                           onclick="this.target='_blank'">
                            @DataConfig.IconsFolder@Model.IconItem.IconPath@Model.IconItem.IconFileName
                        </a>
                    </p>

                </div>

            </div>

        </div>

        @* Тег «description» *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageDescription">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageDescription" aria-expanded="true" aria-controls="PageDescription">
                    <span class="form-label fs-5">Описание :</span>
                </button>
            </h2>

            <div id="PageDescription" class="accordion-collapse collapse" aria-labelledby="headingPageDescription" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    <p class="text-start fluid-font-size">
                        @Model.PageItem.PageDescription
                    </p>

                    <p class="fs-6 form-text text-success">
                        тег «description»
                    </p>

                </div>

            </div>

        </div>

        @* Тег «keywords» *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageKeywords">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageKeywords" aria-expanded="true" aria-controls="PageKeywords">
                    <span class="form-label fs-5 d-sm-none">Ключ-слова :</span>
                    <span class="form-label fs-5 d-none d-sm-inline">Ключевые слова :</span>
                </button>
            </h2>

            <div id="PageKeywords" class="accordion-collapse collapse" aria-labelledby="headingPageKeywords" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend">

                    <p class="text-start fluid-font-size">
                        @Model.PageItem.PageKeyWords
                    </p>

                    <p class="fs-6 form-text text-success text-center">
                        тег «keywords»
                    </p>

                </div>

            </div>

        </div>

        @* Заголовок страницы *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageHeading">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageHeading" aria-expanded="true" aria-controls="PageHeading">
                    <span class="form-label fs-5 d-sm-none">Заголовок (H1) :</span>
                    <span class="form-label fs-5 d-none d-sm-inline">Заголовок вверху страницы (H1) :</span>
                </button>
            </h2>

            <div id="PageHeading" class="accordion-collapse collapse" aria-labelledby="headingPageHeading" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.PageHeading))
                    {
                        <h1 class="text_shadow fluid-font-size">
                            @Html.Raw(Model.PageItem.PageHeading)
                        </h1>
                    }
                    else
                    {
                        <p class="fs-6 form-text text-success">
                            заголовок не задан
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Картинка заголовка страницы *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingImagePageHeading">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#ImagePageHeading" aria-expanded="true" aria-controls="ImagePageHeading">
                    <span class="form-label fs-5 d-sm-none">
                        Картинка верх :
                    </span>
                    <span class="form-label fs-5 d-none d-sm-inline">
                        Картинка вверху страницы :
                    </span>
                </button>
            </h2>

            <div id="ImagePageHeading" class="accordion-collapse collapse" aria-labelledby="headingImagePageHeading" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend">

                    @if (Model.PageItem.ImagePageHeadingId != null)
                    {
                        <a asp-area="Admin"
                           asp-controller="ImageInfo"
                           asp-action="DetailsImage"
                           asp-route-imageid="@Model.PageItem.ImagePageHeadingId"
                           class="d-block mx-auto mb-3 maxwidth600px shadw imageref"
                           title="информация о картинке"
                           onclick="this.target='_blank'">
                            <vc:view-image image-id="@Model.PageItem.ImagePageHeadingId" css-class="" icon-type="" />
                        </a>

                        @if (!string.IsNullOrEmpty(Model.PageItem.ImagePageHeading!.WebImageFileName))
                        {
                            <a class="fs-5 text_shadow d-block text-lg-center"
                               href="@Url.Content($"{Model.PageItem.ImagePageHeading.ImagePath}\\/{Model.PageItem.ImagePageHeading.WebImageFileName}")"
                               onclick="this.target='_blank'">
                                @Model.PageItem.ImagePageHeading.ImagePath/@Model.PageItem.ImagePageHeading.WebImageFileName
                            </a>
                        }
                        else
                        {
                            <a class="fs-5 text_shadow d-block text-lg-center"
                               href="@Url.Content($"{Model.PageItem.ImagePageHeading.ImagePath}\\/{Model.PageItem.ImagePageHeading.ImageFileName}")"
                               onclick="this.target='_blank'">
                                @Model.PageItem.ImagePageHeading.ImagePath/@Model.PageItem.ImagePageHeading.ImageFileName
                            </a>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text text-success text-center">
                            картинка не задана
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Текст страницы *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageText">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageText" aria-expanded="true" aria-controls="PageText">
                    <span class="form-label fs-5 d-sm-none">
                        Текст :
                    </span>
                    <span class="form-label fs-5 d-none d-sm-inline">
                        Текст страницы :
                    </span>
                </button>
            </h2>

            <div id="PageText" class="accordion-collapse collapse" aria-labelledby="headingPageText" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.TextOfPage))
                    {
                        <div class="px-2 border border-secondary mb-3 paragraph fluid-font-size" itemprop="text">

                            @Html.Raw(Model.PageItem.TextOfPage)

                        </div>
                    }
                    else
                    {
                        <p class="fs-6 form-text text-success">
                            текст не задан
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Параметры Sitemap, Manifest, Browserconfig *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageSitemap">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageSitemap" aria-expanded="true" aria-controls="PageSitemap">
                    <span class="form-label fs-5">Sitemap<span class="d-none d-sm-inline">, Manifest, Browserconfig</span> :</span>
                </button>
            </h2>

            <div id="PageSitemap" class="accordion-collapse collapse" aria-labelledby="headingPageSitemap" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-start text-sm-center">

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold d-sm-none">
                            Дата :
                        </span>
                        <span class="text-primary fw-bold d-none d-sm-inline">
                            Дата изменения :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            @Model.PageItem.PageLastmod
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center">
                            тег «lastReviewed»
                        </span>
                    </p>

                    <hr class="w-75 mx-auto" />

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold d-sm-none">
                            Обновление :
                        </span>
                        <span class="text-primary fw-bold d-none d-sm-inline">
                            Частота обновления :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            @Model.PageItem.Changefreq
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center">
                            тег «changefreq»
                        </span>
                    </p>

                    <hr class="w-75 mx-auto" />

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold d-sm-none">
                            Приоритет :
                        </span>
                        <span class="text-primary fw-bold d-none d-sm-inline">
                            Приоритет страницы :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            @Model.PageItem.Priority
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center">
                            тег «priority»
                        </span>
                    </p>

                    <hr class="w-75 mx-auto" />

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold d-sm-none">
                            Browserconfig :
                        </span>
                        <span class="text-primary fw-bold d-none d-sm-inline">
                            Файл browserconfig :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            <a class="text-black text_shadow"
                               href="/browserconfigs/@Model.PageItem.BrowserConfig"
                               onclick="this.target='_blank'">
                                @Model.PageItem.BrowserConfig
                            </a>
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center d-sm-none">
                            «msapplication-config»
                        </span>
                        <span class="fs-6 form-text text-success text-center d-none d-sm-block">
                            meta name=«msapplication-config»
                        </span>
                    </p>

                    <hr class="w-75 mx-auto" />

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold d-sm-none">
                            Папка иконок :
                        </span>
                        <span class="text-primary fw-bold d-none d-sm-inline">
                            Папка иконок browserconfig :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            @Model.PageItem.BrowserConfigFolder
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center d-sm-none">
                            иконки browserconfig
                        </span>
                        <span class="fs-6 form-text text-success text-center d-none d-sm-block">
                            папка иконок файла browserconfig.xml
                        </span>
                    </p>

                    <hr class="w-75 mx-auto" />

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold">
                            Файл manifest :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            <a class="text-black text_shadow"
                               href="/manifests/@Model.PageItem.Manifest"
                               onclick="this.target='_blank'">
                                @Model.PageItem.Manifest
                            </a>
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center">
                            link rel="manifest"
                        </span>
                    </p>

                    <hr class="w-75 mx-auto" />

                    <p class="fs-5 mb-0">
                        <span class="text-primary fw-bold d-sm-none">
                            Open Graph :
                        </span>
                        <span class="text-primary fw-bold d-none d-sm-inline">
                            Open Graph (og:type) :
                        </span>
                        <br class="d-sm-none" />
                        <span class="text_shadow">
                            @Model.PageItem.OgType
                        </span>
                        <br />
                        <span class="fs-6 form-text text-success d-block text-center d-sm-none">
                            «og:type»
                        </span>
                        <span class="fs-6 form-text text-success text-center d-none d-sm-block">
                            meta property="og:type"
                        </span>
                    </p>

                </div>

            </div>

        </div>

        @* Ссылки на текущую страницу по GUID1 *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingLinkToCurrentPage">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#LinkToCurrentPage" aria-expanded="true" aria-controls="LinkToCurrentPage">
                    <span class="form-label fs-5">
                        <span class="d-sm-none">
                            Ref-In GUID1
                        </span>
                        <span class="d-none d-sm-inline">
                            Ссылки на страницу по GUID1
                        </span> :
                    </span>
                </button>
            </h2>

            <div id="LinkToCurrentPage" class="accordion-collapse collapse" aria-labelledby="headingLinkToCurrentPage" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (Model.LinksFromPagesByGuid.Count > 0)
                    {
                        <p class="px-5 text-center text_shadow fluid-font-size">
                            @Model.PageItem.PageInfoModelId
                        </p>

                        <div class="table-responsive mt-3">

                            <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                <thead>

                                    <tr class="text-start text-primary">

                                        <th scope="col" class="text-primary">№</th>
                                        <th scope="col" class="text-primary">GUID</th>
                                        <th scope="col" class="text-primary">Title</th>

                                    </tr>

                                </thead>

                                <tbody>

                                    @foreach (var item in Model.LinksFromPagesByGuid)
                                    {
                                        if (i == 0)
                                        {
                                            i = 1;
                                        }
                                        else
                                        {
                                            i++;
                                        }

                                        <tr class="text-start fs-5">

                                            <td scope="col" class="text-primary">@i</td>
                                            <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                            <td scope="col" class="text_shadow">@item.PageTitle</td>

                                        </tr>
                                    }

                                </tbody>

                            </table>

                        </div>

                        <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                            @foreach (var item in Model.LinksFromPagesByGuid)
                            {
                                <vc:card-of-page page=item />
                            }

                        </div>
                    }
                    else
                    {
                        <p class="fs-6 form-text text-success">
                            нет ссылок по GUID
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Фильтр поиска текущей страницы *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageFilter">
                <button class="accordion-button collapsed py-0 stranicy" type="button" data-bs-toggle="collapse" data-bs-target="#PageFilter" aria-expanded="true" aria-controls="PageFilter">
                    <span class="form-label fs-5">Фильтры поиска текущей страницы (PageFilter)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageFilter" class="accordion-collapse collapse" aria-labelledby="headingPageFilter" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.PageFilter))
                    {
                        <p class="px-5 text-center text_shadow fluid-font-size">
                            @Model.PageItem.PageFilter
                        </p>

                        <p class="fs-6 form-text text-success">
                            фильтр поиска страницы
                        </p>

                        @if (Model.LinksFromPagesByPageFilter.Count > 0)
                        {
                            <div class="table-responsive mt-3">

                                <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                    <thead>

                                        <tr class="text-start text-primary">

                                            <th scope="col" class="text-primary">№</th>
                                            <th scope="col" class="text-primary">GUID</th>
                                            <th scope="col" class="text-primary">Title</th>

                                        </tr>

                                    </thead>

                                    <tbody>

                                        @foreach (var item in Model.LinksFromPagesByPageFilter)
                                        {
                                            if (j == 0)
                                            {
                                                j = 1;
                                            }
                                            else
                                            {
                                                j++;
                                            }

                                            <tr class="text-start fs-5">

                                                <td scope="col" class="text-primary">@j</td>
                                                <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                <td scope="col" class="text_shadow">@item.PageTitle</td>

                                            </tr>
                                        }

                                    </tbody>

                                </table>

                            </div>

                            <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                @foreach (var item in Model.LinksFromPagesByPageFilter)
                                {
                                    <vc:card-of-page page=item />
                                }

                            </div>
                        }
                        else
                        {
                            <p class="fs-6 form-text text-success">
                                по данным фильтрам нет ссылок
                            </p>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text text-success">
                            фильтр поиска текущей страницы не задан
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Включить поиск связанных видео *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageVideoLinks">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageVideoLinks" aria-expanded="true" aria-controls="PageVideoLinks">
                    <span class="form-label text-success fs-5">Включить поиск связанных видео (VideoLinks)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageVideoLinks" class="accordion-collapse collapse" aria-labelledby="headingPageVideoLinks" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (Model.PageItem.VideoLinks)
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>включено</span>
                        </p>
                    }
                    else
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>выключено</span>
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Фильтры поиска связанных видео *@
        <div class="accordion-item mb-3 shadw">

            @* Заголовок группы *@
            <h2 class="accordion-header" id="headingPageVideoFilters">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageVideoFilters" aria-expanded="true" aria-controls="PageVideoFilters">
                    <span class="form-label text-success fs-5">Фильтры поиска связанных видео (VideoFilterOut)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageVideoFilters" class="accordion-collapse collapse" aria-labelledby="headingPageVideoFilters" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.VideoFilterOut))
                    {
                        <p class="px-5 text-center text_shadow fluid-font-size">
                            @Model.PageItem.VideoFilterOut
                        </p>

                        <p class="fs-6 form-text">
                            фильтры поиска видео
                        </p>

                        @if (Model.LinksToVideosByFilterOut.Count > 0)
                        {
                            foreach (var listOfMovies in Model.ListsMoviesFileModel)
                            {
                                <div class="table-responsive mt-3">

                                    <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                        <thead>

                                            <tr class="text-start text-primary">

                                                <th scope="col" class="text-primary">№</th>
                                                <th scope="col" class="text-primary">GUID</th>
                                                <th scope="col" class="text-primary">Название</th>
                                                <th scope="col"></th>

                                            </tr>

                                        </thead>

                                        <tbody>

                                            @foreach (var item in listOfMovies)
                                            {
                                                if (videoRef == 0)
                                                {
                                                    videoRef = 1;
                                                }
                                                else
                                                {
                                                    videoRef++;
                                                }

                                                <tr class="text-start fs-5">

                                                    <td scope="col" class="text-primary">@videoRef</td>
                                                    <td scope="col" class="text_shadow">@item.MovieFileModelId</td>
                                                    <td scope="col" class="text_shadow">@item.MovieCaption</td>
                                                    @if (item.PageInfoModelId != null)
                                                    {
                                                        <td scope="col" class="text-center">
                                                            <a asp-area="Admin"
                                                               asp-controller="MovieInfo"
                                                               asp-action="DetailsMovie"
                                                               asp-route-movieid="@item.MovieFileModelId"
                                                               class="btn btn-outline-primary p-1 shadw"
                                                               title="информация о фильме">Info</a>
                                                        </td>
                                                    }
                                                    else
                                                    {
                                                        <td scope="col" class="text-center"></td>
                                                    }

                                                </tr>
                                            }

                                        </tbody>

                                    </table>

                                </div>
                            }

                            foreach (var listOfVideoFilterOut in Model.LinksToVideosByFilterOut)
                            {
                                <vc:video-links movies-list="@listOfVideoFilterOut" />
                            }
                        }
                        else
                        {
                            <p class="fs-6 form-text">
                                по данным фильтрам нет ссылок
                            </p>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text">
                            фильтр поиска видео не задан
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Включить поиск связанных страниц *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageLinksByFilters">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageLinksByFilters" aria-expanded="true" aria-controls="PageLinksByFilters">
                    <span class="form-label text-success fs-5">Включить поиск связанных страниц (PageLinksByFilters)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageLinksByFilters" class="accordion-collapse collapse" aria-labelledby="headingPageLinksByFilters" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (Model.PageItem.PageLinksByFilters)
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>включено</span>
                        </p>
                    }
                    else
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>выключено</span>
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Фильтры поиска связанных страниц *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageFilterOut">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageFilterOut" aria-expanded="true" aria-controls="PageFilterOut">
                    <span class="form-label text-success fs-5">Фильтры поиска связанных страниц (PageFilterOut)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageFilterOut" class="accordion-collapse collapse" aria-labelledby="headingPageFilterOut" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.PageFilterOut))
                    {
                        <p class="px-5 text-center text_shadow fluid-font-size">
                            @Model.PageItem.PageFilterOut
                        </p>

                        <p class="fs-6 form-text">
                            фильтр поиска страниц
                        </p>

                        @if (Model.LinksToPagesByFilterOut.Count > 0)
                        {
                            <div class="table-responsive mt-3">

                                <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                    <thead>

                                        <tr class="text-start text-primary">

                                            <th scope="col" class="text-primary">№</th>
                                            <th scope="col" class="text-primary">GUID</th>
                                            <th scope="col" class="text-primary">Title</th>

                                        </tr>

                                    </thead>

                                    <tbody>

                                        @foreach (var item in Model.LinksToPagesByFilterOut)
                                        {
                                            if (k == 0)
                                            {
                                                k = 1;
                                            }
                                            else
                                            {
                                                k++;
                                            }

                                            <tr class="text-start fs-5">

                                                <td scope="col" class="text-primary">@k</td>
                                                <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                <td scope="col" class="text_shadow">@item.PageTitle</td>

                                            </tr>
                                        }

                                    </tbody>

                                </table>

                            </div>

                            <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                @foreach (var item in Model.LinksToPagesByFilterOut)
                                {
                                    <vc:card-of-page page=item />
                                }

                            </div>
                        }
                        else
                        {
                            <p class="fs-6 form-text">
                                по данным фильтрам нет ссылок
                            </p>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text">
                            фильтр поиска страниц не задан
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Включить поиск связанных страниц по GUID (1) *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageLinksByGUID">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageLinksByGUID" aria-expanded="true" aria-controls="PageLinksByGUID">
                    <span class="form-label text-success fs-5">Включить поиск связанных страниц по GUID (PageLinks)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageLinksByGUID" class="accordion-collapse collapse" aria-labelledby="headingPageLinksByGUID" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (Model.PageItem.PageLinks)
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>включено</span>
                        </p>
                    }
                    else
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>выключено</span>
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Поиск связанных страниц по GUID (1) *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingRefPages">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#RefPages" aria-expanded="true" aria-controls="RefPages">
                    <span class="form-label text-success fs-5">Поиск связанных страниц по GUID (RefPages)&nbsp;:</span>
                </button>
            </h2>

            <div id="RefPages" class="accordion-collapse collapse" aria-labelledby="headingRefPages" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.RefPages))
                    {
                        @if (Model.LinksToPagesByGuid.Count > 0)
                        {
                            <div class="table-responsive mt-3">

                                <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                    <thead>

                                        <tr class="text-start text-primary">

                                            <th scope="col" class="text-primary">№</th>
                                            <th scope="col" class="text-primary">GUID</th>
                                            <th scope="col" class="text-primary">Title</th>

                                        </tr>

                                    </thead>

                                    <tbody>

                                        @foreach (var item in Model.LinksToPagesByGuid)
                                        {
                                            if (l == 0)
                                            {
                                                l = 1;
                                            }
                                            else
                                            {
                                                l++;
                                            }

                                            <tr class="text-start fs-5">

                                                <td scope="col" class="text-primary">@l</td>
                                                <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                <td scope="col" class="text_shadow">@item.PageTitle</td>

                                            </tr>
                                        }

                                    </tbody>

                                </table>

                            </div>

                            <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                @foreach (var item in Model.LinksToPagesByGuid)
                                {
                                    <vc:card-of-page page=item />
                                }

                            </div>
                        }
                        else
                        {
                            <p class="fs-6 form-text">
                                по данным фильтрам нет ссылок
                            </p>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text">
                            фильтр поиска страниц по GUID не задан
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Включить поиск связанных страниц по GUID (2) *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingPageLinksByGUID2">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#PageLinksByGUID2" aria-expanded="true" aria-controls="PageLinksByGUID2">
                    <span class="form-label text-success fs-5">Включить поиск связанных страниц по GUID (PageLinks2)&nbsp;:</span>
                </button>
            </h2>

            <div id="PageLinksByGUID2" class="accordion-collapse collapse" aria-labelledby="headingPageLinksByGUID" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (Model.PageItem.PageLinks2)
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>включено</span>
                        </p>
                    }
                    else
                    {
                        <p class="fs-4 mb-2 text_shadow">
                            <span>выключено</span>
                        </p>
                    }

                </div>

            </div>

        </div>

        @* Поиск связанных страниц по GUID (2) *@
        <div class="accordion-item mb-3 shadw">

            <h2 class="accordion-header" id="headingRefPages2">
                <button class="accordion-button collapsed py-0" type="button" data-bs-toggle="collapse" data-bs-target="#RefPages2" aria-expanded="true" aria-controls="RefPages2">
                    <span class="form-label text-success fs-5">Поиск связанных страниц по GUID (RefPages2)&nbsp;:</span>
                </button>
            </h2>

            <div id="RefPages2" class="accordion-collapse collapse" aria-labelledby="headingRefPages2" data-bs-parent="#accordionDetailsPage">

                <div class="accordion-body accordion-body-nointend text-center">

                    @if (!string.IsNullOrEmpty(Model.PageItem.RefPages2))
                    {
                        @if (Model.LinksToPagesByGuid2.Count > 0)
                        {
                            <div class="table-responsive mt-3">

                                <table class="table table-sm table-hover table-bordered table-light caption-top align-middle fs-5">

                                    <thead>

                                        <tr class="text-start text-primary">

                                            <th scope="col" class="text-primary">№</th>
                                            <th scope="col" class="text-primary">GUID</th>
                                            <th scope="col" class="text-primary">Title</th>

                                        </tr>

                                    </thead>

                                    <tbody>

                                        @foreach (var item in Model.LinksToPagesByGuid2)
                                        {
                                            if (l == 0)
                                            {
                                                l = 1;
                                            }
                                            else
                                            {
                                                l++;
                                            }

                                            <tr class="text-start fs-5">

                                                <td scope="col" class="text-primary">@l</td>
                                                <td scope="col" class="text_shadow">@item.PageInfoModelId</td>
                                                <td scope="col" class="text_shadow">@item.PageTitle</td>

                                            </tr>
                                        }

                                    </tbody>

                                </table>

                            </div>

                            <div class="row row-cols-2 row-cols-lg-3 row-cols-xxl-4 g-sm-1 g-md-2 g-lg-3 gy-2 justify-content-center">

                                @foreach (var item in Model.LinksToPagesByGuid2)
                                {
                                    <vc:card-of-page page=item />
                                }

                            </div>
                        }
                        else
                        {
                            <p class="fs-6 form-text">
                                по данным фильтрам нет ссылок
                            </p>
                        }
                    }
                    else
                    {
                        <p class="fs-6 form-text">
                            фильтр поиска страниц по GUID (2) не задан
                        </p>
                    }

                </div>

            </div>

        </div>

    </div>

    @* Управление страницей *@
    <div class="card-footer border p-0 my-2">

        <a asp-area="Admin"
           asp-controller="PageInfo"
           asp-action="EditPage"
           asp-route-pageid="@Model.PageItem.PageInfoModelId"
           class="btn btn-outline-dark py-1 m-2 shadw minwidth70px"
           title="редактировать данные">
            Изменить
        </a>

        <a asp-area="Admin"
           asp-controller="PageInfo"
           asp-action="DeletePage"
           asp-route-pageid="@Model.PageItem.PageInfoModelId"
           class="btn btn-outline-danger m-2 shadw minwidth100px"
           title="удалить страницу">
            Удалить
        </a>

        <a href="@Url.Content(Model.PageItem.PageFullPathWithData)"
           class="btn btn-outline-primary m-2 shadw minwidth100px"
           title="просмотр">
            Просмотр
        </a>

        <a asp-area="Admin"
           asp-controller="PageInfo"
           asp-action="Index"
           class="btn btn-outline-success m-2 shadw minwidth100px d-inline-block"
           title="список страниц">
            Список
        </a>

        @if (Model.PageItem.MovieFile != null)
        {
            <a asp-area="Admin"
               asp-controller="MovieInfo"
               asp-action="DetailsMovie"
               asp-route-movieid="@Model.PageItem.MovieFile.MovieFileModelId"
               class="btn btn-outline-info m-2 shadw minwidth100px"
               title="данные фильма">
                Фильм
            </a>
        }

    </div>

</div>